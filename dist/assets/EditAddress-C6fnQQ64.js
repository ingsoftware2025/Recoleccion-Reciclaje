import{u as A,o as y,b as E,p as S,a as F,y as n,j as r,S as d}from"./index-BFoY33C2.js";import{A as w}from"./AddressForm-ycUCAj4j.js";import{U as N,G as P}from"./AddressAPI-Bb8QZHCp.js";import{S as v}from"./ShowErrorAPI-C3w4PqSb.js";import{u as q}from"./useQuery-BJEY7UEE.js";import"./InputComponent-lP4p_1p_.js";function K(){const c=A(),{id:o}=y(),{data:t,isLoading:u,isError:m}=q({queryKey:["address"],queryFn:P}),e=t==null?void 0:t.find(s=>s.id===o),{register:l,handleSubmit:f,formState:{errors:p},reset:i}=E();S.useEffect(()=>{if(e){const{calle:s,codigo_postal:a,colonia:j,ciudad:h,numero:b}=e;i({calle:s,codigo_postal:a,colonia:j,ciudad:h,numero:b})}},[e,i]);const{mutate:x,isPending:g}=F({mutationFn:({id:s,address:a})=>N({id:s,address:a}),onSuccess:s=>{n.success(s),c("/direccion")},onError:s=>{n.error(s.message||"Error al actualizar la dirección")}});return u?r.jsx(d,{}):m||!e?r.jsx(v,{}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-4xl font-bold",children:"Editar Dirección"}),r.jsxs("form",{onSubmit:f(s=>x({id:o,address:s})),className:"mt-10 w-3/4 mx-auto shadow-xl p-10 space-y-5 my-5",children:[r.jsx(w,{register:l,errors:p}),r.jsx("button",{type:"submit",className:"button bg-indigo-500 hover:bg-indigo-600 w-full",children:g?r.jsx(d,{}):r.jsx("p",{children:"Actualizar Dirección"})})]})]})}export{K as default};
